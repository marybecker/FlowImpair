}
header<-strsplit(fstat_lines[x],delim)[[1]];
D<-as.data.frame(matrix('',ncol=length(header),nrow=length(fstat_lines)-x-data_pos+1),stringsAsFactors=F);
colnames(D)<-header;
colnames(D)
colnames(D)
i=x+data_pos
dtat_lines[i]
ftat_lines[i]
fstat_lines[i]
r<-strsplit(fstat_lines[i],delim)[[1]]
r
i-x-data_pos
i-x-data_pos+1
D[i-x-data_pos+1,1:length(r)]<-r;
D[1]
D[1,]
D[1:2,]
D[1:3,]
D[1:3,]
x<-1;
while(x<length(fstat_lines) && startsWith(fstat_lines[x],skip)){
x<-x+1;
}
header<-strsplit(fstat_lines[x],delim)[[1]];
D<-as.data.frame(matrix('',ncol=length(header),nrow=length(fstat_lines)-x-data_pos+1),stringsAsFactors=F);
colnames(D)<-header;
for(i in x+data_pos:length(fstat_lines)){
r<-strsplit(fstat_lines[i],delim)[[1]];
D[i-x-data_pos+1,1:length(r)]<-r;
}
i
x
install.packages("ssh")
library(ssh)
install.packages("~/Downloads/ssh_0.3.tgz", repos = NULL, type = .Platform$pkgType)
library(ssh)
install.packages("~/Downloads/ssh_0.3(1).tgz", repos = NULL, type = .Platform$pkgType)
library(ssh)
install.packages("~/Downloads/ssh_0.2.tar.gz", repos = NULL, type = "source")
library(ssh)
library(RCurl)
install.packages("ssh", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
library(ssh)
install.packages("RMariaDB", lib="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
setwd("/Users/tbecker/Documents/GitHub/FlowImpair")
library(ggplot2)
library(lubridate)
library(grid)
library(plyr)
library(reshape2)
fobs<-read.csv("data/TrailCam_FlowObs2017.csv",header=TRUE)
fobs$Date<-make_date(year=fobs$Year,month=fobs$Month,day=fobs$Day)
fobs$JDay<-yday(fobs$Date)
fobs$DurObs<-ifelse(fobs$Obs>3,1,0)
fobs<- fobs[which(fobs$Month==7 |fobs$Month==8| fobs$Month==9 | fobs$Month==10),]#RG Period Only
fobs<- fobs[!(fobs$STA_SEQ==19708|fobs$STA_SEQ==19709|fobs$STA_SEQ==19600),]
fobs[1:10,]
ggplot(fobs,aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line
ggplot(fobs,aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line()
fobs[STA_SEQ==15192,]
fobs[fobs$STA_SEQ==15192,]
ggplot(fobs[fobs$STA_SEQ==15192,],aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line()
sites<- unique(fobs$STA_SEQ) ##list of stations
site.name<-fobs[,1:2]
site.name<-unique(site.name[c("STA_SEQ","Station_Name")])
colnames(site.name)<-c("site","SName")
sites
names(fobs)
site.name
ggplot(fobs[fobs$STA_SEQ==15244,],aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line()
[fobs$STA_SEQ==15244,]
fobs[fobs$STA_SEQ==15244,]
site.name
ggplot()+
geom_line(fobs[fobs$STA_SEQ==15244,],aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line(fobs[fobs$STA_SEQ==19460,],aes(Date,STA_SEQ,colour=DurObs,group=1))
ggplot()+
geom_line(fobs[fobs$STA_SEQ==15244,],aes(Date,STA_SEQ,colour=DurObs,group=1))
ggplot()+
geom_line(data=fobs[fobs$STA_SEQ==15244,],aes(Date,STA_SEQ,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$STA_SEQ==19460,],aes(Date,STA_SEQ,colour=DurObs,group=1))
write.csv(site.name,"sitename.csv")
fobs<-read.csv("data/TrailCam_FlowObs2017.csv",header=TRUE)
fobs$Date<-make_date(year=fobs$Year,month=fobs$Month,day=fobs$Day)
fobs$JDay<-yday(fobs$Date)
fobs$DurObs<-ifelse(fobs$Obs>3,1,0)
fobs<- fobs[which(fobs$Month==7 |fobs$Month==8| fobs$Month==9 | fobs$Month==10),]
##Excluding Poland, Rocky Gutter, Beacon Hill Brook & Cobble Trib for paper
fobs<- fobs[!(fobs$STA_SEQ==19708|fobs$STA_SEQ==19709|fobs$STA_SEQ==19600
|fobs$STA_SEQ==19460),]
site.name<-read.csv("sitename.csv",header=TRUE)
site.name
names(fobs)
site.name<-read.csv("sitename.csv",header=TRUE)
site.name
site.name<-site.name[,1:2]
site.name
dim(fobs)
fobs<-merge(fobs,site.name,by="STA_SEQ")
dim(fobs)
names(fobs)
fobs[1:10,]
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1))+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)
site.name<-read.csv("sitename.csv",header=TRUE)
site.name
site.name[,3]
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_x_discrete(breaks=1:7,labels=site.name[,3])
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_discrete(breaks=1:7,labels=site.name[,3])
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_discrete(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_discrete(breaks=1:7,labels=c("a","b","c","d","e","f","g"))+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_discrete(breaks=1:7,labels=letters[1:7])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_discrete(breaks=1:6,labels=letters[1:6])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_continuous(breaks=1:7,labels=letters[1:7])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=2)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=2)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=3)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
site.name<-read.csv("sitename.csv",header=TRUE)
site.name<-site.name[order(-N),]
site.name<-site.name[order(-site.name$N),]
site.name
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=3)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
site.name
site.name<-site.name[order(site.name$N),]
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=3)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=3)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)
levels(fobs$DurObs)
fobs$DurObs<-factor(fobs$DurObs)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
guide_legend(title="Flow Connectivity")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
scale_fill_discrete(name="Flow Connectivity")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
scale_fill_continuous(name="Flow Connectivity")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
scale_shape_discrete(name="Flow Connectivity")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
guides(fill=guide_legend(title="Flow Connectivity"))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
labs(linetype='custom title')
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
ylab(NULL)+
xlab(NULL)+
labs(colour="Flow")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(labels=c("0","1"),values=c("Disconnected","Connected"))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(labels=c(0,1),values=c("Disconnected","Connected"))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(labels=c("Disconnected","Connected"),values=c(0,1))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(labels=c("Disconnected","Connected"),values=c("0","1"))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_color_manual(labels=c("Disconnected","Connected"),values=c("0","1"))
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)
fobs<-read.csv("data/TrailCam_FlowObs2017.csv",header=TRUE)
fobs$Date<-make_date(year=fobs$Year,month=fobs$Month,day=fobs$Day)
fobs$JDay<-yday(fobs$Date)
fobs$DurObs<-ifelse(fobs$Obs>3,1,0)
#fobs<- fobs[complete.cases(fobs),]
#fobs$ObsGraph<- fobs$Obs-1
#fobs$Obs_CAT<-factor(fobs$Obs_CAT,levels=c("Dry","No Flow","Low",
#"Normal","Above Normal","Flood"))
#RG Period Only
fobs<- fobs[which(fobs$Month==7 |fobs$Month==8| fobs$Month==9 | fobs$Month==10),]
##Excluding Poland, Rocky Gutter, Beacon Hill Brook & Cobble Trib for paper
fobs<- fobs[!(fobs$STA_SEQ==19708|fobs$STA_SEQ==19709|fobs$STA_SEQ==19600
|fobs$STA_SEQ==19460),]
fobs<-merge(fobs,site.name[,1:2],by="STA_SEQ")
dim(fobs)
fobs[1:10,]
fobs$DurObs<-ifelse(fobs$DurObs==0,"Disconnected","Connected")
fobs[1:10,]
levels(fobs$DurObs)
fobs$DurObs<-factor(fobs$DurObs)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)
cols<-c("Disconnected"="red","Connected"="blue")
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(values=cols)
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(values=cols)+
theme(legend.position="bottom")
fconnectdur<-
ggplot()+
geom_line(data=fobs[fobs$N==1,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==2,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==3,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==4,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==5,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==6,],aes(Date,N,colour=DurObs,group=1),size=4)+
geom_line(data=fobs[fobs$N==7,],aes(Date,N,colour=DurObs,group=1),size=4)+
scale_y_continuous(breaks=1:7,labels=site.name[,3])+
labs(colour="Flow",x=NULL,y=NULL)+
scale_colour_manual(values=cols)+
theme(legend.position="bottom")
ggsave(fconnectdur)
ggsave("fconnectdur.jpeg",fconnectdur)
